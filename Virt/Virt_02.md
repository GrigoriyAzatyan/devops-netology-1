# 5.2. Системы управления виртуализацией

#### 1.
* 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований
Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий 
  * Подойдет KVM, т.к. четких требований по нагрузке у нас нет + планируется ставить разные ОС, если бы была только Windows, то скорее всего, предложил бы Hyper-V
    
* Требуется наиболее производительное бесплатное opensource решение для виртуализации небольшой (20 серверов) инфраструктуры Linux и Windows виртуальных машин
    * KVM - как более производительное решение для инфраструктуры из разных ОС, или XEN, но он менее производительный, хотя для 20 серверов, думаю, будет норм
    
* Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры
    * Для решения инфраструктуры на Windows, неплохо было бы использовать Hyper-V, если виртуалок не очень много, то можно попробовать бесплатную версию Hyper-V.
      Если серверов будет +- много, можно попробовать KVM
      
* Необходимо рабочее окружение для тестирование программного продукта на нескольких дистрибутивах Linux
  * Для тестирования, разумно было бы использовать облачные решения - AWS|Openstack т.к. в этом случае, можно легко масштабировать инфраструктуру и управлять ресурсами
  
#### 2.
0. Устанавливаем на Hyper-V ВММ агент и библиотеку SCVMM
1. Выключаем машину
2. Копируем в библиотеку
3. Конвертируем VMDK диск в VHD
4. Создаем машину в Hyper-v (Параметры ВМ должны быть в точности такими же)

[Доклад по теме](https://channel9.msdn.com/Blogs/TechDays-Russia/-VMware-vSphere-Windows-Server-2012-Hyper-V-20121224090800)
#### 3.
Сложности могут быть связанны с масштабированием инфраструктуры, т.е. если, например, разработчик работает на *nix , а конечный пользователь на Windows,
то тестировщик, должен тестировать на обеих ОС, следоватьельно и тестовых контуров должно быть в 2 раза больше, что увеличивает кол-во выделяемых ресурсов.

Так же, выбор инстручемнта виртуализации будет зависить от кол-ва видов ОС, что может привести к доп. расходам

Для оптимизации издержек, считаю, стоит , либо выбирать единый тип ОС для всей инфраструктуры, что поможет сэкономить ресурсы и облегчит отлов багов, либо запасаться ресурсами, что будет дороже, но в плане качества тестирования будет более правильным, т.к. продукт будет адаптирован к большему кол-ву ОС